!function(a){var b="lightBox",c=model.getNewModel(b);c.prototype.resize=function(){model.resize();var b=document.documentElement||document.body,c=a(window).height(),d=a(window).width(),e=window.pageYOffset?pageYOffset:b.scrollTop,f=(window.pageXOffset?pageXOffset:b.scrollLeft,c-this.options.model.height()),g=0,h=d-this.options.model.width(),i=0;return f>0?g=(this.options.fixed?0:e)+f/2:(g=0,window.scrollTo(0,g)),i=h>0?h/2:0,this.options.model.css({top:g+"px",left:i+"px"}),!0},a.fn.lightBox=function(b){var d,e=null,f=null;if(b)try{if(d=b.model,b.model=b.ltBox,b.ltBox=null,!b.model)throw d}catch(g){b.model=g}if(model.util.is_options_valid(b)){if(b.open)try{if(d=b.open.anim,d&&!(b.open.anim=b.open.anim.className))throw d}catch(g){b.open.anim=g}if(b.close)try{if(d=b.close.anim,d&&!(b.close.anim=b.close.anim.className))throw d}catch(g){b.close.anim=g}a.each(this,function(d,g){var h=a(g);e=new c(b,h),f={resize:function(){e.resize()},open:function(){e.open()},close:function(a,b){e.close(a,b)},on:function(){e.on()},off:function(){e.off()}},h.data("model",f)})}return this.data("model")||e},a.fn.lightBox.close=function(a){var b,c;b=0,c=0,a=a||{},a.all&&(b=model.lt.stack.length-1),a.allPrevious?(b=model.lt.stack.length-1,c=1):a.index&&(c=b=a.index);for(var d=b;d>=c;d--)d in model.lt.stack?model.lt.stack[d].close(d,a.noAnim):""},a.fn.lightBox.closeAll=function(b){a.fn.lightBox.close(b||{all:!0})}}(jQuery);